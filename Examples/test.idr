%default total
-- %hide Prelude.Nat.Nat
-- data Nat = Z | S Nat

data Test a = T Int | B Bool | C a

data Vec : (n : Nat) -> (e : Type) -> Type where
  Nil : Vec Z e
  (::) : (x : e) -> (xs : Vec n e) -> Vec (S n) e

(+) : Num a => Vec n a -> Vec n a -> Vec n a
(+) [] [] = []
(+) (x :: xs) (y :: ys) = x + y :: xs + ys

Age : Type
Age = Nat

Name : Type
Name = String

data Material = Plastic | Wood | Metal | Cheese
data Person = P Name Age
data Object = O Material

-- A pi type to distinguish between person and object
IsPerson : Bool -> Type
IsPerson True = Person
IsPerson False = Object

-- A function that calculates the correct return type.
isPerson : (x : Bool) -> IsPerson x
isPerson True = Main.P "Donovan Crichton" 33
isPerson False = O Cheese

f : (x : Bool ** IsPerson x)
f = (_ ** isPerson True)
  
g : Num a => (n : Nat ** Vec n a)
g = (_ ** [1, 2, 3])

len : Num a => Vec n a -> (n : Nat ** Vec n a)
len x = (_ ** x)
